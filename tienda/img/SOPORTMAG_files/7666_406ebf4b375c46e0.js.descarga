(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[7666],{45455:function(e,n,t){var o=t(86411),l=t(70940),u=t(79631),i=t(86152),a=t(67878),r=t(73226),s=t(16001),c=t(77598),d=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(a(e)&&(i(e)||"string"==typeof e||"function"==typeof e.splice||r(e)||c(e)||u(e)))return!e.length;var n=l(e);if("[object Map]"==n||"[object Set]"==n)return!e.size;if(s(e))return!o(e).length;for(var t in e)if(d.call(e,t))return!1;return!0}},11594:function(e,n,t){"use strict";t.d(n,{I:function(){return o},K:function(){return l}});var o=function(e){return e[e.WaitTaking=0]="WaitTaking",e[e.Taking=1]="Taking",e[e.Taken=2]="Taken",e[e.Failed=3]="Failed",e}({}),l=function(e){return e[e.CommonNode=0]="CommonNode",e[e.Qualified=1]="Qualified",e[e.NoQualified=2]="NoQualified",e[e.CanUse=3]="CanUse",e[e.CommonNodeV1=4]="CommonNodeV1",e[e.CommonNodeV2=5]="CommonNodeV2",e[e.Used=6]="Used",e[e.Expired=7]="Expired",e}({})},37666:function(e,n,t){"use strict";t.r(n),t.d(n,{ComponentContext:function(){return H},ComponentProvider:function(){return L},createComponentStore:function(){return z},useComponentStore:function(){return q},useComponentStoreRef:function(){return N}});var o=t(81862),l=t(87612),u=t(94761),i=t(89290),a=t(8226),r=t(50853),s=(t(4256),t(17385),t(91211),t(70309),t(99492),t(60452),t(23395),t(38969),t(45483),t(44936),t(98613)),c=t(91715),d=t(68775),p=t(99099),m=t(81110),f=t(67151),g=t(58099),v=t(89714),_=t(69440),h=t(45455),S=t.n(h),b=t(59998),x=t(55609),k=t(6419),y=t(33441),I=(t(91560),t(5235)),C=t(11594);var D={code:"pcdst01",type:0,scene_name:"pc_default"};function E(){return(0,I.ib)({ns:"couponStore",setup:function(){var e=this;return{ext:{},couponStage:C.I.WaitTaking,couponStatus:C.K.CommonNode,couponData:{},turnTableCouponData:[],afterGetFirstScreenData:(0,o._)((function(){return(0,r.__generator)(this,(function(n){switch(n.label){case 0:return[4,e.get().queryCoupon()];case 1:return n.sent(),[2]}}))})),takeCoupon:(0,o._)((function(n){var t,o,l,i,a,s,c;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return o=e.get().ext,l=o.$service,i=o.__innerGlobalStore,a=e.get(),s=a.queryCoupon,a.couponStage===C.I.Taking?[2]:(e.set((function(e){e.couponStage=C.I.Taking})),[4,(d=l,p=(0,u._)({},D,null==i||null==(t=i.getState())?void 0:t.pageBase),null==d?void 0:d.post({url:"/api/jade/victoria/single_coupon/take",params:p}).then((function(e){return(null==e?void 0:e.result)||{}})))]);case 1:return c=r.sent(),n?[2]:c.takeSuc?[4,s()]:[3,3];case 2:return r.sent(),e.set((function(e){e.couponStage=C.I.Taken})),[3,4];case 3:e.set((function(e){e.couponStage=C.I.Failed})),r.label=4;case 4:return[2,c]}var d,p}))})),queryCoupon:(0,o._)((function(){var n,t,o,l,i,a,s,c,d,p;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return l=e.get().ext,i=l.$service,a=l.__innerGlobalStore,[4,(m=i,f=(0,u._)({},D,null==a||null==(n=a.getState())?void 0:n.pageBase),null==m?void 0:m.post({url:"/api/jade/victoria/single_coupon/query",params:f}).then((function(e){return(null==e?void 0:e.result)||{}})))];case 1:return s=r.sent(),c=(null==s||null==(t=s.usableCpnList)?void 0:t[0])||{},d=(null==c||null==(o=c.discountParamAmountInfo)?void 0:o.amountTrimText)||[],s&&e.set({couponStatus:null==s?void 0:s.status,couponData:c,turnTableCouponData:null==s||null==(p=s.bigTurntableSurfaces)?void 0:p.map((function(e,n){return 0===n?d:[d[0],((null==e?void 0:e.discountParam)||0)/100+"",d[2]]}))}),[2,s]}var m,f}))}))}}})}var w=t(61233),R=t(42679),P=t(25036),A=t(44621),T=(t(65978),[w.k6.fr,w.k6.de,w.k6.be,w.k6.uk,w.k6.ie,w.k6.ch,w.k6.ro,w.k6.hu]),G=(0,b.fz)((function(e){var n={nodeCommon:{},context:{},$service:{},data:null,hasReceiveData:!1,complianceGame:"",similarGoodsList:[],goods:void 0,goodsReviewList:[],goodsId:0,galleryImages:[],isNormalStatus:!1,cartSkuAmountMap:{},cartScene:167,galleryIdx:0,galleryRatio:1,isShowSimilarGoodList:!1,bizExt:void 0,masonryGoodsList:[],simplePh0:!1,loginDialogShow:!1};return(0,v.M)()((0,_.XR)((0,s.n)((function(t,s,v){var _;return(0,u._)({},n,e,(0,y.jZ)()(t,s,v),E()(t,s,v),(_={},(0,l._)(_,g.vP,(0,g.LR)({set:t,get:s,store:v,ssr:!0,csr:!0,ssrTimeout:0,emitters:function(e){e.watch((function(e){var n;return{ph9PcStyleExp:null==(n=e.bizExt)?void 0:n.ph9PcStyleExp}}),(function(n){var t=n.ph9PcStyleExp;t&&e.emit(m.Zp.DISPATCH_DATA,{ph9PcStyleExp:t})}),{equalityFn:f.X}),e.watch((function(e){var n;return{ph9SmallerMainCard:null==(n=e.bizExt)?void 0:n.ph9SmallerMainCard}}),(function(n){var t=n.ph9SmallerMainCard;t&&e.emit(m.Zp.DISPATCH_DATA,{ph9SmallerMainCard:t})}),{equalityFn:f.X})},listeners:(0,l._)({},m.Yw.RECEIVE_DATA,(function(e){var n,t,o=e.rewardAmountStr,l=null==(t=s().shareStore)||null==(n=t.getState())?void 0:n.setPhPageState;o&&(null==l||l({rewardAmountStr:o}))}))})),(0,l._)(_,"getInitialProps",(0,o._)((function(e){var n,o,l,a,c,d,p,m,f,g,v,_,h,S,b,x,k,y,I,C,D,E,R,P,A,T,G,H,L,q,z,N,O,M,U,B,j,F,Q,K,V,W,$,Z,J,X,Y;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return n=e.shareStore,o=s(),l=o.fetchData,a=o.initBannerRatio,c=o.hasReceiveData,d=o.fetchFrequency,p=o.initTurntableStage,m=o.couponStore,f=o.getQrCode,g=n.getState().fetchTips,t({shareStore:n}),v=s().nodeCommon.sysInfo.localInfo,c?[3,7]:[4,Promise.all([l(),d(),null==g?void 0:g()])];case 1:return q=i._.apply(void 0,[r.sent(),1]),z=q[0],N=null==(_=s())?void 0:_.data,O=((null==z?void 0:z.kpDsItem)||{}).commonRecGoods,(null==z||null==(S=z.expResult)||null==(h=S.expPointInfo)?void 0:h.tucaActivityType)?[4,null==(B=s())?void 0:B.queryActivity(O,{qualificationCheck:(null==(M=s().__innerGlobalStore)?void 0:M.getState().isLogin)&&!(null==(U=s())?void 0:U.turntableIsBlock)})]:[3,3];case 2:r.sent(),r.label=3;case 3:return null==n||n.setState({pcTemuClearanceBanner:null==z||null==(x=z.expResult)||null==(b=x.expPointInfo)?void 0:b.pcTemuClearanceBanner,ph9PadDownload:(0,u._)({},null==N||null==(I=N.kpDsItem)||null==(y=I.commonRecGoods)||null==(k=y.extra)?void 0:k.guideDownloadInfo,{goodsId:null==N||null==(D=N.kpDsItem)||null==(C=D.commonRecGoods)?void 0:C.goodsId}),ph9PcStyleExp:null==z||null==(E=z.bizExt)?void 0:E.ph9PcStyleExp,addGoodsBtnStyle:null==z||null==(P=z.expResult)||null==(R=P.expPointInfo)?void 0:R.addGoodsBtnStyle}),a(),!!(null==z||null==(A=z.bizExt)?void 0:A.ph9PcStyleExp)&&(null==v?void 0:v.region)===w.k6.it+""||"exp1"!==(null==z||null==(T=z.bizExt)?void 0:T.pcAtyPh9Coupon)?[3,5]:[4,m.afterGetFirstScreenData()];case 4:r.sent(),r.label=5;case 5:return"exp1"===(null==z||null==(G=z.bizExt)?void 0:G.pcAtyPh9Coupon)&&(null==n||n.setState({pcAtyPhCoupon:null==z||null==(j=z.bizExt)?void 0:j.pcAtyPh9Coupon,pcAtyCouponStyle:null==z||null==(F=z.bizExt)?void 0:F.pcAtyCouponStyle})),p(),(Q=null==z||null==(L=z.expResult)||null==(H=L.expPointInfo)?void 0:H.ph922DownloadWidgets)?[4,f(null==z||null==(W=z.expResult)||null==(V=W.expData)||null==(K=V.activityParam)?void 0:K.widgetsUrl)]:[3,7];case 6:Y=r.sent(),null==n||n.setState({ph9Ph22ExpData:{ph922DownloadWidgets:Q,goodsInfo:null==z||null==($=z.kpDsItem)?void 0:$.commonRecGoods,qrSSRData:Y,dnldPageH5Url:(null==z||null==(X=z.expResult)||null==(J=X.expData)||null==(Z=J.activityParam)?void 0:Z.widgetsUrl)||""}}),r.label=7;case 7:return[2]}}))}))),(0,l._)(_,"getQrCode",(0,o._)((function(e){var n,t;return(0,r.__generator)(this,(function(o){switch(o.label){case 0:return n=s().context,t={req:null==n?void 0:n.__req,res:null==n?void 0:n.__res},[4,(0,P.q)({context:t,qrSize:191,dnldPageH5Url:e})];case 1:return[2,o.sent()]}}))}))),(0,l._)(_,"initTurntableStage",(function(){var e,n,o,l,u,i,a=s(),r=a.turntableIsBlock,c=a.turntableStore,d=a.goods,p=a.padStyle,m=a.simplePh0,f=a.expResult,g=a.freeGoodsActData,v=!!p,_=y.Uh.end,h=s().couponStore.couponStatus===C.K.Qualified,S=null!=(null==g?void 0:g.status)&&(null==k.nk?void 0:k.nk.includes(null==g?void 0:g.status));S?i=k.Sj.freeGoods:h?i=k.Sj.coupon:v&&(i=k.Sj.reduction),t({benefitType:i});var b,x,I,D=(b=null==(l=s())||null==(o=l.__innerGlobalStore)||null==(n=o.getState().sysInfo)||null==(e=n.localInfo)?void 0:e.region,x=parseInt(null!=b?b:"0"),null==T?void 0:T.includes(x));_=r||!(null==d?void 0:d.goodsId)||m||v&&(0,R.ew)(d)||D?y.Uh.end:h||v||S?y.Uh.init:y.Uh.end,c.initStage(_,["exp2","exp3"].includes(null!=(I=null==f||null==(u=f.expPointInfo)?void 0:u.padTurntableOptimize)?I:"")?2:1)})),(0,l._)(_,"fetchData",(0,o._)((function(){var e,n,o,l,i,p,m,f,g,v,_,h,b,k,y,I,C,D,E,w,R,P,T,G,H,L,q,z,N,O,M,U,B,j,F,Q,K,V,W,$,Z,J,X,Y,ee,ne,te,oe;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return U=s(),B=U.$service,j=U.nodeCommon,F=U.shareStore,Q=U.__innerGlobalStore,[4,B.post({url:"api/jade/swiss/kp/ds",params:(0,c.lv)({dsId:j.props.dsId,offset:0,limit:1,listId:(0,d.x)(6)},[],!0)})];case 1:return K=r.sent(),W=null!=(V=K.result)?V:null,S()(null==W?void 0:W.kpDsItem)?[2,{}]:($=null==(e=Object.values((null==Q?void 0:Q.getState().recipe)||{}).find((function(e){return 111===e.cmptId})))?void 0:e.cmptStrategy,null==F||F.setState({ph9SmallerMainCard:null==(n=W.bizExt)?void 0:n.ph9SmallerMainCard}),(null==(l=W.expResult)||null==(o=l.expPointInfo)?void 0:o.ph9MainCardStyleOpt)&&(null==F||F.setState({ph9MainCardStyleOpt:null==(J=W.expResult)||null==(Z=J.expPointInfo)?void 0:Z.ph9MainCardStyleOpt})),(null==(p=W.expResult)||null==(i=p.expPointInfo)?void 0:i.complianceSecondHandGoods)&&(null==F||F.setState({complianceSecondHandGoods:null==(Y=W.expResult)||null==(X=Y.expPointInfo)?void 0:X.complianceSecondHandGoods})),ee=null==(g=W.kpDsItem)||null==(f=g.commonRecGoods)||null==(m=f.extra)?void 0:m.guideDownloadInfo,ne=["100","191","128","141","68","151","54","98"],te=W.bizExt&&(0,u._)({},W.bizExt,{ph9PcStyleExp:(null==(v=W.bizExt)?void 0:v.ph9SmallerMainCard)&&ne.includes((null==j||null==(h=j.sysInfo)||null==(_=h.localInfo)?void 0:_.region)||"")||null==(b=W.bizExt)?void 0:b.ph9PcStyleExp}),t({data:W,commonRecGoods:null==(k=W.kpDsItem)?void 0:k.commonRecGoods,isShowSimilarGoodList:j.props.isShowSimilarGoodList===x.CV.SHOW&&"exp1"!==(null==te?void 0:te.ph9PcStyleExp)&&(null==(y=W.kpDsItemList)?void 0:y.length)>0,hasReceiveData:!0,similarGoodsList:W.kpDsItemList||[],goods:null==(I=W.kpDsItem)?void 0:I.commonRecGoods,complianceGame:null==Q||null==(E=Q.getState())||null==(D=E.pageBiz)||null==(C=D.bizExt)?void 0:C.complianceGame,goodsReviewList:(null==(R=W.kpDsItem)||null==(w=R.goodsReviewVo)?void 0:w.goodsReviewList)||[],goodsId:(null==(T=W.kpDsItem)||null==(P=T.commonRecGoods)?void 0:P.goodsId)||0,galleryImages:(0,a._)((null==(H=W.kpDsItem)||null==(G=H.commonRecGoods)?void 0:G.galleryImages)||[]),isNormalStatus:(null==(q=W.kpDsItem)||null==(L=q.commonRecGoods)?void 0:L.status)===A.vF.OnSale,bizExt:te,expResult:W.expResult,simplePh0:["ph3","ph9"].includes((null==j||null==(z=j.pageBase)?void 0:z.linkTmpl)||"")&&(null==$?void 0:$.simplePh0),padDownloadReduction:(null!=(oe=null==ee?void 0:ee.reduction)?oe:0)/10,padDownloadJumpUrl:null==W?void 0:W.mainJumpUrl,padStyle:!!(null==(O=W.expResult)||null==(N=O.expPointInfo)?void 0:N.ph9PadGuideDnldFilter),preventCustomerComplaints:null==W||null==(M=W.activityInfo)?void 0:M.preventCustomerComplaints,activityInfo:W.activityInfo}),[2,W])}}))}))),(0,l._)(_,"queryRefresh",(0,o._)((function(){var e,n,t;return(0,r.__generator)(this,(function(o){switch(o.label){case 0:return e=s(),n=e.fetchData,t=e.refreshCartSkuAmountMap,[4,Promise.all([n(),t()])];case 1:return o.sent(),[2]}}))}))),(0,l._)(_,"initBannerRatio",(function(){var e=s().galleryImages[0]||{},n=e.width,o=e.height;n&&o&&t({galleryRatio:o/n})})),(0,l._)(_,"refreshCartSkuAmountMap",(0,o._)((function(){var e,n,o,l,u;return(0,r.__generator)(this,(function(i){switch(i.label){case 0:return n=s(),o=n.$service,l=n.nodeCommon,[4,o.post({url:"/api/bg/bg-uranus-api/uranus_cart/user_cart_num",params:{shipping_scene:2,pageSn:l.pageSn},config:{useAntiToken:!0}})];case 1:return u=i.sent(),t({cartSkuAmountMap:(null==u||null==(e=u.result)?void 0:e.cartSkuNumMap)||{}}),[2]}}))}))),(0,l._)(_,"setGalleryIdx",(function(e){void 0===e&&(e=0);var n=s(),o=n.galleryIdx,l=n.galleryImages;o===e||e<0||e>=l.length||t({galleryIdx:e})})),(0,l._)(_,"fetchReport",(0,o._)((function(e){var n,t,o;return(0,r.__generator)(this,(function(l){return null==(o=null==(t=s().__innerGlobalStore)||null==(n=t.getState())?void 0:n.reportFrequency)||o(e),[2]}))}))),(0,l._)(_,"fetchFrequency",(0,o._)((function(){var e,n,o,l,u,i;return(0,r.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,s().$service.post({url:"/api/jade/swiss/kp/ds",params:{frequency_rules:["dn_un_turntable_impr_24h","web_xy_guide_checkout_pop"],ds_id:"fq001"}})];case 1:return l=a.sent(),i=null!=(u=null==l||null==(e=l.result)?void 0:e.frequencyResult)?u:[],t({turntableIsBlock:!0===(null==i||null==(n=i.find((function(e){return"dn_un_turntable_impr_24h"===e.ruleKey})))?void 0:n.block)||p.kk,xyGuideCheckoutIsBlock:!0===(null==i||null==(o=i.find((function(e){return"web_xy_guide_checkout_pop"===e.ruleKey})))?void 0:o.block)||p.kk}),[3,3];case 2:return a.sent(),[2,[]];case 3:return[2]}}))}))),(0,l._)(_,"setLoginDialogShow",(function(e){t((function(n){n.loginDialogShow=e}))})),(0,l._)(_,"queryActivity",(0,o._)((function(e,n){var o,l,i,a,c,d,p;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return l=(o=e||{}).goodsId,i=o.mallId,a=o.priceInfo,c=(a||{}).priceText,[4,s().$service.post({url:"/api/generic/tuca/activity/info/query",params:(0,u._)({actType:"free_goods",goodsId:l,mallId:i},n)})];case 1:return d=r.sent(),p=(s()||{}).pickSuccess,t((function(e){var n,t;e.freeGoodsActData=(0,u._)({},null==d?void 0:d.result,{priceText:[null==c?void 0:c[0],"0.00",null==c?void 0:c[2]],showReduction:100}),e.freeGoodsAct=null==k.xc?void 0:k.xc.includes(null==d||null==(n=d.result)?void 0:n.status),e.pickSuccess=null==p?null==d||null==(t=d.result)?void 0:t.pickSuccess:p})),[2]}}))}))),_))}))))})),H=G.ComponentContext,L=G.ComponentProvider,q=G.useComponentStore,z=G.createComponentStore,N=G.useComponentStoreRef},33441:function(e,n,t){"use strict";t.d(n,{Uh:function(){return u},jZ:function(){return i}});var o=t(5235),l="turntableStore",u=function(e){return e[e.init=0]="init",e[e.firstTurn=1]="firstTurn",e[e.oneMoreAni=2]="oneMoreAni",e[e.secondTurn=3]="secondTurn",e[e.resultAni=4]="resultAni",e[e.end=5]="end",e}({});function i(){return(0,o.ib)({ns:l,setup:function(){var e=this;return{ext:{},stage:5,turntableDom:null,spinNumber:1,isInitStage:!1,forwardStage:function(n){var t=e.get()||{},o=t.stage,l=t.spinNumber;switch(n){case 0:0===o&&e.set({stage:1});break;case 1:1===o&&(2===l?e.set({stage:2}):e.set({stage:4}));break;case 2:2===o&&e.set({stage:3});break;case 3:3===o&&e.set({stage:4});break;case 4:4===o&&e.set({stage:5})}},closeTurnTablePopup:function(){e.set({stage:5})},initStage:function(n,t){e.set({stage:n,isInitStage:!0,spinNumber:t})},setTurntableDom:function(n){e.set({turntableDom:n})},onTurntableClose:function(){e.set({stage:5})}}}})}},6419:function(e,n,t){"use strict";t.d(n,{QK:function(){return l},Sj:function(){return o},Tz:function(){return u},nk:function(){return a},xc:function(){return i}});var o=function(e){return e[e.reduction=0]="reduction",e[e.coupon=1]="coupon",e[e.freeGoods=2]="freeGoods",e}({}),l="CONTAINER_DOM_ID",u=function(e){return e[e.noLogin=0]="noLogin",e[e.inProgress=1]="inProgress",e[e.waitCheckout=2]="waitCheckout",e[e.expired=3]="expired",e[e.notEligible=4]="notEligible",e[e.completed=5]="completed",e[e.otherActivity=6]="otherActivity",e[e.hasQaNotAdded=7]="hasQaNotAdded",e}({}),i=[0,1,2,3,4,6,7],a=[0,1,2,7]},55609:function(e,n,t){"use strict";t.d(n,{CV:function(){return o},EO:function(){return u},JC:function(){return l}});var o=function(e){return e.SHOW="show",e.HIDE="hide",e}({}),l={HEADER_1_1_1:"https://aimg.kwcdn.com/upload_aimg/temu/5d27891f-ba55-4e81-a833-5acbea6c6d43.png.slim.png",HEADER_0_1_1:"https://aimg.kwcdn.com/upload_aimg/temu/e2735d01-42ee-4467-a3b3-8dc8966bd81d.png.slim.png",HEADER_1_1_0:"https://aimg.kwcdn.com/upload_aimg/temu/d00513ea-b944-404d-a5b0-5af30b2b4367.png.slim.png",HEADER_1_0_1:"https://aimg.kwcdn.com/upload_aimg/temu/ac945dba-f08f-41e5-9530-660bc8a03a58.png.slim.png",HEADER_0_0_1:"https://aimg.kwcdn.com/upload_aimg/temu/52f244b8-8473-488e-bb83-8671fdeb4ee9.png.slim.png",HEADER_0_1_0:"https://aimg.kwcdn.com/upload_aimg/temu/ffa1ce6f-a110-4d83-8269-8f3f039ad636.png.slim.png",HEADER_1_0_0:"https://aimg.kwcdn.com/upload_aimg/temu/9c9a6d76-b0ed-49a7-957a-f44015777eeb.png.slim.png",HEADER_0_0_0:"https://aimg.kwcdn.com/upload_aimg/temu/54ffcbdf-19ab-4058-ac42-c420702f0761.png.slim.png",SUPPORT:"https://aimg.kwcdn.com/upload_aimg/temu/a55a064c-ea23-4d87-9035-75f3f73a6877.png.slim.png",FOOTER:"https://aimg.kwcdn.com/upload_aimg/kx/7c28b3c4-cda3-4755-9d4b-f3d045e37e53.png.slim.png"},u=function(e){return e.SHOW="show",e.HIDE="hide",e.HideHeaderNavbar="header_navbar_hide",e}({})}}]);
//# sourceMappingURL=http://temudebug.com/sourcemaps/assets/js/7666_406ebf4b375c46e0.js.map